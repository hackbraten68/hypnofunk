<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hypnofunk.de</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script defer src="https://unpkg.com/@alpinejs/ui@3.13.1-beta.0/dist/cdn.min.js"></script>
    <script defer src="https://unpkg.com/@alpinejs/focus@3.13.1/dist/cdn.min.js"></script>
    <script defer src="https://unpkg.com/alpinejs@3.13.1/dist/cdn.min.js"></script>
    <script src="https://www.google.com/recaptcha/api.js" async defer></script>
    
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="styles.css">
</head>

<body x-data="videoGallery()" x-init="sortiereNachJahr">
    <div x-data="{ isMobile: window.innerWidth <= 768 }" class="body-wrapper">
        <div class="bg-[--primary-color]">
            <div x-show="isMobile">                
                <nav 
                    x-data="{ isActive: false }"
                    class="border-gray-200 bg-[#56e46e] dark:bg-[--primary-color] dark:border-gray-700 w-full"
                >
                    <div class="max-w-screen-xl flex flex-wrap items-center justify-between mx-auto p-4">
                        <a href="#" class="flex items-center">
                            <span class="self-center text-2xl whitespace-nowrap text-white dark:text-white">Hypnofunk.de</span>
                        </a>
                        <button 
                            data-collapse-toggle="navbar-hamburger" 
                            type="button" 
                            class="inline-flex items-center justify-center p-2 w-10 h-10 ml-3 text-sm text-gray-500 rounded-lg hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-white dark:text-white dark:hover:bg-[#56e46e]" 
                            aria-controls="navbar-hamburger" 
                            aria-expanded="false"
                            x-cloak
                            @click="isActive = !isActive"
                        >
                            <span class="sr-only">Open main menu</span>
                            <svg class="w-5 h-5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 17 14">
                                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M1 1h15M1 7h15M1 13h15"/>
                            </svg>
                        </button>
                        <div x-show="isActive" class="w-full" id="navbar-hamburger">
                            <ul class="flex flex-col font-medium mt-4 rounded-lg bg-[#56e46e] dark:bg-[#56e46e] dark:border-gray-700">
                                <li>
                                    <a href="#gallery" class="block py-2 pl-3 pr-4 text-white bg-[#56e46e] hover:border hover:border-white" aria-current="page">Start</a>
                                </li>
                                <li>
                                    <a href="#kontakt" class="block py-2 pl-3 pr-4 text-white bg-[#56e46e] hover:border hover:border-white">Kontakt</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </nav>
            </div>            
        
            <div x-show="!isMobile">
                <header class="bg-[--primary-color] py-5 mx-80">
                    <nav class="flex justify-between items-center px-5">
                        <div>
                            <a href="/" class="text-[#163300] heading-font text-2xl font-bold">Hypnofunk.de</a>
                        </div>
                        <div class="space-x-4">
                            <a href="#gallery" class="text-[#163300] hover:text-gray-400">Home</a>
                            <a href="#kontakt" class="text-[#163300] hover:text-gray-400">Kontakt</a>
                        </div>
                    </nav>
                </header>
            </div>
        </div>
        
        <div class="w-full flex justify-center items-center bg-[--secondary-color]">    
            <div class="mx-5 md:mx-60">
                <section class="logo-container hidden md:block">
                    <img src="./img/logo.jpg" class="landscape"/>
                </section>

                <section class="hero-post md:block pt-20 h-5/6">
                    <div class="md:px-20">
                        <h3 class="text-9xl custom-heading-font text-[#163300] mb-5">See through your inner Eye</h3>
                        <div class="text-md w-1/2">
                            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. At, amet quo laborum accusamus officia cum asperiores. Id reprehenderit dignissimos laboriosam, modi vitae doloremque nesciunt, consequatur, tenetur assumenda repudiandae similique veritatis! Lorem ipsum dolor sit amet consectetur adipisicing elit. At, amet quo laborum accusamus officia cum asperiores. Id reprehenderit dignissimos laboriosam, modi vitae doloremque nesciunt, consequatur, tenetur assumenda repudiandae similique veritatis!</p>
                        </div>
                    </div>
                    <div class="flex items-center gap-3 py-5 px-20">
                        <button type="button" class="text-[#9fe870] bg-[#9fe870] hover:bg-[#0d1f00] focus:outline-none focus:ring-4 focus:ring-blue-300 font-medium rounded-full text-sm px-5 py-2.5 text-center dark:bg-[#163300] dark:hover:bg-[#0d1f00] dark:focus:ring-[#163300]">Sharing is caring</button>
                        <a href="#" class="underline underline-offset-4">Das ist ein Demo Link</a>
                    </div>
                    <div class="">
                        <div id="last-video" class="md:pr-20" x-data="videoGallery()" x-html="renderLastAddedVideoHTML()"></div>
                    </div>
                </section>
                
                <!-- Timeline only on Desktop -->
                <div x-show="!isMobile">
                    <div x-data="{ showTimeline: true }" class="content-end">
                        <!-- Toggle Button Group-->
                        <div class="inline-flex rounded-md shadow-sm" role="group">
                            <button @click="showTimeline = true" type="button" class="inline-flex items-center px-4 py-2 text-sm font-medium text-gray-900 bg-transparent border border-gray-900 rounded-s-lg hover:bg-gray-900 hover:text-white focus:z-10 focus:ring-2 focus:ring-gray-500 focus:bg-gray-900 focus:text-white dark:border-white dark:text-white dark:hover:text-white dark:hover:bg-gray-700 dark:focus:bg-gray-700">
                            <svg class="w-3 h-3 me-2" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M10 0a10 10 0 1 0 10 10A10.011 10.011 0 0 0 10 0Zm0 5a3 3 0 1 1 0 6 3 3 0 0 1 0-6Zm0 13a8.949 8.949 0 0 1-4.951-1.488A3.987 3.987 0 0 1 9 13h2a3.987 3.987 0 0 1 3.951 3.512A8.949 8.949 0 0 1 10 18Z"/>
                            </svg>
                            Timeline
                            </button>
                            <button @click="showTimeline = false" type="button" class="inline-flex items-center px-4 py-2 text-sm font-medium text-gray-900 bg-transparent border border-gray-900 rounded-e-lg hover:bg-gray-900 hover:text-white focus:z-10 focus:ring-2 focus:ring-gray-500 focus:bg-gray-900 focus:text-white dark:border-white dark:text-white dark:hover:text-white dark:hover:bg-gray-700 dark:focus:bg-gray-700">
                            <svg class="w-3 h-3 me-2" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M14.707 7.793a1 1 0 0 0-1.414 0L11 10.086V1.5a1 1 0 0 0-2 0v8.586L6.707 7.793a1 1 0 1 0-1.414 1.414l4 4a1 1 0 0 0 1.416 0l4-4a1 1 0 0 0-.002-1.414Z"/>
                                <path d="M18 12h-2.55l-2.975 2.975a3.5 3.5 0 0 1-4.95 0L4.55 12H2a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2Zm-3 5a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"/>
                            </svg>
                            Gallery
                            </button>
                        </div>
                        
                        <!-- Div mit Toggle-Funktion -->
                        <div x-show="showTimeline">
                            <section class="border-y border-r border-black rounded">
                                <ol id="gallery" class="relative border-s border-gray-200 dark:border-gray-700 py-5" x-html="timelineGallery">
                                </ol>
                            </section>
                        </div>
                    
                        <div x-show="!showTimeline">
                            <section id="gallery" class="mb-20 md:pt-20">
                                <div id="gallery" class="flex flex-col md:grid md:grid-cols-3 md:gap-4" x-html="galerieHTML"></div>
                            </section>
                        </div>
                    </div>
                </div>

                <!-- Minimal Timeline on Mobile -->
                <div x-show="isMobile">
                    <section>
                        <ol id="gallery" 
                            class="relative py-5" 
                            x-html="timelineGallery">
                        </ol>
                    </section>
                </div>
                
        
                <section id="kontakt" class="mb-10 pt-20">
                    <h3 class="text-4xl mb-5">Kontakt</h3>
                    
                    <div x-data="{ formSubmitted: false }" class="flex  items-center justify-center">
                        <div class="max-w-full w-full bg-white rounded">
                            <form x-show="!formSubmitted" @submit.prevent="submitForm" class="space-y-4">
                                <div>
                                    <label for="name" class="block text-sm font-medium text-gray-600">Name:</label>
                                    <input type="text" id="name" name="name" required class="mt-1 p-2 w-full border rounded">
                                </div>
                    
                                <div>
                                    <label for="email" class="block text-sm font-medium text-gray-600">E-Mail:</label>
                                    <input type="email" id="email" name="email" required class="mt-1 p-2 w-full border rounded">
                                </div>
        
                                <div>
                                    <label for="message" class="block text-sm font-medium text-gray-600">Nachricht:</label>
                                    <textarea id="message" name="message" rows="4" required class="mt-1 p-2 w-full border rounded"></textarea>
                                </div>
                    
                                <!-- reCAPTCHA -->
                                <div class="mt-4">
                                    <div class="g-recaptcha" data-sitekey="6LeeDk8pAAAAAA9z-HW8s-qpmAUk8bji1UT75BUh"> </div>
                                </div>
                    
                                <button type="submit" class="w-1/2 bg-blue-500 text-white p-2 rounded hover:bg-blue-600">Absenden</button>
                            </form>
                    
                            <div x-show="formSubmitted" class="mt-4 text-green-700">
                                <p>Vielen Dank! Das Formular wurde erfolgreich abgesendet.</p>
                            </div>
                        </div>
                    
                        <script>
                            function submitForm() {
                                fetch('send_form.php', {
                                    method: 'POST',
                                    body: new FormData(document.querySelector('form')),
                                })
                                .then(response => response.json())
                                .then(data => {
                                    if (data.success) {
                                        formSubmitted = true;
                                    } else {
                                        console.error('Fehler beim Formularversand:', data.error);
                                    }
                                })
                                .catch(error => console.error('Fehler beim Formularversand:', error));
                            }
                        </script>
                    </div>
                </section>
            </div>
        </div>

        

        <footer class="bg-[#163300] border-t border-[#163300] dark:bg-[#163300]">
            <div class="w-full mx-auto max-w-screen-xl p-4 md:flex md:items-center md:justify-between">
            <span class="text-sm text-[#9fe870] sm:text-center dark:text-[#9fe870]">© 2023 <a href="https://hypnofunk.de/" class="hover:underline">Hypnofunk</a>. All Rights Reserved.
            </span>
            <span class="text-sm text-[#9fe870] sm:text-center dark:text-[#9fe870]">Coded with ❤️</span>
            <ul class="flex flex-wrap items-center mt-3 text-sm font-medium text-[#9fe870] dark:text-[#9fe870] sm:mt-0">
                <li>
                    <a href="#" class="hover:underline me-4 md:me-6">Impressum</a>
                </li>
                <li>
                    <a href="#" class="hover:underline">Kontakt</a>
                </li>
            </ul>
            </div>
        </footer>
    </div>
</body>
</html>
<script>

function videoGallery() {
    return {
        videos: [
            { title: 'Test',
              year: '2024',
              month:'Februar',
              desc: 'Lorem ipsum dolor sit amet consectetur, adipisicing elit. Dignissimos sapiente sunt veritatis. Autem, iure, magni corrupti rerum eveniet commodi praesentium numquam natus, dicta non id!',
              src: './vids/1.mp4', 
              poster: './vids/posters/testposter.png' 
            },
            { title: 'Test',
              year: '2023',
              month:'Januar',
              desc: 'Lorem ipsum dolor sit amet consectetur, adipisicing elit. Dignissimos sapiente sunt veritatis. Autem, iure, magni corrupti rerum eveniet commodi praesentium numquam natus, dicta non id!',
              src: './vids/2.mp4', 
              poster: './vids/posters/testposter.png'
            },
            { title: 'Test',
              year: '2022',
              month:'Mai',
              desc: '',
              src: './vids/3.mp4', 
              poster: './vids/posters/testposter.png'
            },
            { title: 'Test',
              year: '2021',
              month:'April',
              desc: '',
              src: './vids/1.mp4', 
              poster: './vids/posters/testposter.png'
            },
            { title: 'Test',
              year: '2020',
              month:'September',
              desc: '',
              src: './vids/2.mp4', 
              poster: './vids/posters/testposter.png'
            },
            { title: 'Test',
              year: '2019',
              month:'Dezember',
              desc: '',
              src: './vids/3.mp4', 
              poster: './vids/posters/testposter.png'
            },
        ],
        sortiereNachyear: function () {
            this.videos.sort(function (a, b) {
                return b.year - a.year;
            });
        },
        
        getLastAddedVideo: function () {
            return this.videos[this.videos.length - 1];
        },

        renderLastAddedVideoHTML: function () {
            const video = this.getLastAddedVideo();
            const aspectRatio = 16 / 9;
            const height = 400;
            const width = height * aspectRatio;
            
            return `
                <div x-data="{ open: false }" class="flex justify-end mb-12">
                <!-- Trigger -->
                    <span x-on:click="open = true">
                        <video controls class="rounded-md cursor-pointer" width="${width}" height="${height}" poster="${video.poster}">
                            <source src="${video.src}" type="video/mp4">
                            <p>Ihr Browser unterstützt das Videoformat nicht.</p>
                        </video>
                    </span>
                </div>`;
        },

        timelineGallery: function () {
            const aspectRatio = 16 / 9;
            const height = 800;
            const width = height * aspectRatio;

            return this.videos.map(function (video) {
                return `              
                        <li class="mb-10">
                            <div class="absolute hidden md:block w-3 h-3 bg-[#163300] rounded-full mt-1.5 -start-1.5 border border-white dark:border-gray-900 dark:bg-[#163300]"></div>
                            <time class="ms-4 mb-1 text-sm font-normal leading-none text-gray-400 dark:text-[#163300]">${video.month} ${video.year}</time>
                            <div class="max-w-sm md:max-w-5xl md:mx-auto mt-8 bg-white md:border md:border-gray-200 rounded-lg shadow dark:bg-[#163300] dark:border-gray-700">
                                <span x-on:click="open = true">
                                    <video controls class="rounded-md cursor-pointer" width="${width}" height="${height}" poster="${video.poster}">
                                        <source src="${video.src}" type="video/mp4">
                                        <p>Ihr Browser unterstützt das Videoformat nicht.</p>
                                    </video>
                                </span>
                                <div class="p-5">
                                    <a href="#">
                                        <h5 class="mb-2 text-2xl font-bold custom-font uppercase tracking-tight text-gray-900 dark:text-[#9fe870]">${video.title}</h5>
                                    </a>
                                    <p class="mb-3 font-normal text-gray-700 dark:text-[#9fe870]">${video.desc}</p>
                                </div>
                            </div>    
                        </li>`;
            }).join('');
        },

        galerieHTML: function () {
            const aspectRatio = 16 / 9;
            const height = 800;
            const width = height * aspectRatio;

            return this.videos.map(function (video) {
                return `
                    <div class="mb-10">
                            <div class="max-w-sm md:max-w-5xl mx-auto mt-8 bg-white border border-gray-200 rounded-lg shadow dark:bg-[#163300] dark:border-gray-700">
                                <span x-on:click="open = true">
                                    <video controls class="rounded-md cursor-pointer" width="${width}" height="${height}" poster="${video.poster}">
                                        <source src="${video.src}" type="video/mp4">
                                        <p>Ihr Browser unterstützt das Videoformat nicht.</p>
                                    </video>
                                </span>
                                <div class="p-5">
                                    <time class="text-sm text-gray-400 dark:text-white">${video.month} ${video.year}</time>
                                    <a href="#">
                                        <h5 class="mb-2 text-2xl font-bold custom-font uppercase tracking-tight text-gray-900 dark:text-[#9fe870]">${video.title}</h5>
                                    </a>
                                    <p class="mb-3 font-normal text-gray-700 dark:text-[#9fe870]">${video.desc}</p>
                                </div>
                            </div>    
                    </div>`;
            }).join('');
        }
    };
}

Alpine.data('videoGallery', videoGallery);

// Checks which Viewport
window.addEventListener('resize', () => {
    // Überwachen Sie die Bildschirmbreite und aktualisieren Sie den 'isMobile'-Zustand entsprechend
    if (window.innerWidth <= 768) {
        Alpine.store('isMobile', true);
    } else {
        Alpine.store('isMobile', false);
    }
});

</script>